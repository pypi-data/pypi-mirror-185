(this["webpackJsonpmatlab-proxy"]=this["webpackJsonpmatlab-proxy"]||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(9),c=n.n(r),s=n(2),i=n(8),o=(n(33),n(6)),l=n(66),d=(n(34),n(0));var u=function(e){var t=e.confirm,n=e.cancel,a=e.children;return Object(d.jsx)("div",{className:"modal show",id:"confirmation",tabIndex:"-1",role:"dialog","aria-labelledby":"confirmation-dialog-title",children:Object(d.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsx)("div",{className:"modal-header",children:Object(d.jsx)("h4",{className:"modal-title",id:"confirmation-dialog-title",children:"Confirmation"})}),Object(d.jsx)("div",{className:"modal-body",children:a}),Object(d.jsxs)("div",{className:"modal-footer",children:[Object(d.jsx)("button",{onClick:n,"data-testid":"cancelButton",className:"btn companion_btn btn_color_blue",children:"Cancel"}),Object(d.jsx)("button",{onClick:t,"data-testid":"confirmButton",className:"btn btn_color_blue",children:"Confirm"})]})]})})})},b=n(21),j=n.n(b),m=n(13);n(41);var h=function(e){var t=e.children,n=e.transparent,a=void 0!==n&&n;return Object(d.jsx)("div",{id:"overlay",style:{backgroundColor:a?"transparent":null},children:t})},f=n(4),p=function(e){return e.tutorialHidden},O=function(e){return e.serverStatus.matlabStatus},g=function(e){return e.serverStatus.matlabVersion},v=function(e){return e.serverStatus.wsEnv},x=function(e){return e.serverStatus.isSubmitting},y=function(e){return e.serverStatus.hasFetched},N=function(e){return e.serverStatus.licensingInfo},T=function(e){return e.loadUrl},A=function(e){return e.error},w=Object(f.a)((function(e){return e.triggerPosition}),(function(e){return null===e?void 0:e})),E=Object(f.a)((function(e){return e.envConfig}),(function(e){return null!==e&&e})),_=Object(f.a)(A,(function(e){return null!==e})),S=Object(f.a)((function(e){return e.serverStatus.fetchFailCount}),(function(e){return e>=5})),k=Object(f.a)(O,(function(e){return"up"===e})),M=Object(f.a)(O,(function(e){return"up"===e})),L=Object(f.a)(O,(function(e){return"starting"===e})),I=Object(f.a)(O,(function(e){return"stopping"===e})),C=Object(f.a)(O,_,(function(e,t){return"up"===e&&!t})),B=Object(f.a)((function(e){return e.overlayVisibility}),k,_,(function(e,t,n){return!t||e||n})),R=(Object(f.a)((function(e){return e.serverStatus}),(function(e){return e.fetchAbortController})),Object(f.a)(O,x,(function(e,t){return t?null:"up"===e?1e4:5e3}))),U=Object(f.a)(N,(function(e){return Object.prototype.hasOwnProperty.call(e,"type")})),D=Object(f.a)(N,U,(function(e,t){return t&&"MHLM"===e.type})),P=Object(f.a)(N,D,(function(e,t){return t?e.emailAddress:""})),H=Object(f.a)(O,(function(e){return"starting"===e})),V=Object(f.a)(B,_,(function(e,t){return e||t})),F=Object(f.a)(O,_,A,(function(e,t,n){if(t&&408===n.statusCode)return{icon:"warning",alert:"warning",label:"Unknown"};switch(e){case"up":return{label:"Running",icon:"success",alert:"success"};case"starting":return{label:"Starting. This may take several minutes.",icon:"info-reverse",alert:"info",spinner:!0};case"stopping":return{label:"Stopping",icon:"info-reverse",alert:"info",spinner:!0};case"down":var a={label:"Not running",icon:"info-reverse",alert:"info"};return t&&(a.icon="error",a.alert="danger"),a;default:throw new Error('Unknown MATLAB status: "'.concat(e,'".'))}})),G=n(11),J=n(5),W=n.n(J),Q=n(7),X="SET_TRIGGER_POSITION",Y="SET_TUTORIAL_HIDDEN",q="SET_OVERLAY_VISIBILITY",z="REQUEST_SERVER_STATUS",K="RECEIVE_SERVER_STATUS",Z="REQUEST_SET_LICENSING",$="REQUEST_TERMINATE_INTEGRATION",ee="REQUEST_STOP_MATLAB",te="REQUEST_START_MATLAB",ne="RECEIVE_SET_LICENSING",ae="RECEIVE_TERMINATE_INTEGRATION",re="RECEIVE_STOP_MATLAB",ce="RECEIVE_START_MATLAB",se="RECEIVE_ERROR",ie="REQUEST_ENV_CONFIG",oe="RECEIVE_ENV_CONFIG";function le(e,t){return{type:X,x:e,y:t}}function de(e){return{type:q,visibility:e}}function ue(e){return function(t,n){return t({type:K,status:e,previousMatlabPending:H(n())})}}function be(){return{type:Z}}function je(e){return{type:ne,status:e}}function me(e,t){return{type:se,error:e,statusCode:t}}function he(e,t){return fe.apply(this,arguments)}function fe(){return fe=Object(Q.a)(W.a.mark((function e(t,n){var a,r,c,s,i,o,l=arguments;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>2&&void 0!==l[2]?l[2]:{},r=l.length>3&&void 0!==l[3]?l[3]:1e4,c=new AbortController,s=setTimeout((function(){return c.abort()}),r),e.prev=4,e.next=7,fetch(n,Object(G.a)(Object(G.a)({},a),{},{signal:c.signal}));case 7:return i=e.sent,clearTimeout(s),e.abrupt("return",i);case 12:e.prev=12,e.t0=e.catch(4),o="Check your internet connection and verify that the server is running.","AbortError"===e.t0.name||"TypeError"===e.t0.name?t(me("HTTP Error 408 - Request Timeout. ".concat(o),408)):t(me("Communication with server failed.",500));case 16:case"end":return e.stop()}}),e,null,[[4,12]])}))),fe.apply(this,arguments)}function pe(){return function(){var e=Object(Q.a)(W.a.mark((function e(t,n){var a,r;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:z}),e.next=3,he(t,"./get_status",{},1e4);case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,t(ue(r));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function Oe(e){return function(){var t=Object(Q.a)(W.a.mark((function t(n,a){var r,c,s;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={method:"PUT",mode:"same-origin",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},n(be()),t.next=4,he(n,"./set_licensing_info",r,15e3);case 4:return c=t.sent,t.next=7,c.json();case 7:s=t.sent,n(je(s));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function ge(){return function(){var e=Object(Q.a)(W.a.mark((function e(t,n){var a,r,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"DELETE",mode:"same-origin",cache:"no-cache",credentials:"same-origin"},t(be()),e.next=4,he(t,"./set_licensing_info",a,15e3);case 4:return r=e.sent,e.next=7,r.json();case 7:c=e.sent,t(je(c));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function ve(){return function(){var e=Object(Q.a)(W.a.mark((function e(t,n){var a,r,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"DELETE",mode:"same-origin",cache:"no-cache",credentials:"same-origin"},t({type:$}),e.next=4,he(t,"./terminate_integration",a,15e3);case 4:return r=e.sent,e.next=7,r.json();case 7:c=e.sent,t({type:ae,status:c,loadUrl:"../"});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function xe(){return function(){var e=Object(Q.a)(W.a.mark((function e(t,n){var a,r,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"DELETE",mode:"same-origin",cache:"no-cache",credentials:"same-origin"},t({type:ee,status:"stopping"}),e.next=4,he(t,"./stop_matlab",a,15e3);case 4:return r=e.sent,e.next=7,r.json();case 7:c=e.sent,t({type:re,status:c});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function ye(){return function(){var e=Object(Q.a)(W.a.mark((function e(t,n){var a,r,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"PUT",mode:"same-origin",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({})},t({type:te,status:"starting"}),e.next=4,he(t,"./start_matlab",a,15e3);case 4:return r=e.sent,e.next=7,r.json();case 7:c=e.sent,t({type:ce,status:c});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}n(43);var Ne=function(){var e=Object(s.b)(),t=Object(s.c)(w),n=Object(s.c)(E),r=Object(a.useState)(!1),c=Object(o.a)(r,2),i=c[0],l=c[1],u=Object(a.useRef)(),b=""===n.extension_name?"MATLAB Web Desktop":"".concat(n.extension_name_short_description," - MATLAB Integration");Object(a.useEffect)((function(){var t=new IntersectionObserver((function(t){Object(o.a)(t,1)[0].isIntersecting||e(le(window.innerWidth/2+27,0))}));return t.observe(u.current),function(){t.disconnect()}}),[e]);var f=Object(s.c)(V),O=Object(a.useCallback)((function(){return e(de(!f))}),[f,e]),g=Object(s.c)(p),v=Object(s.c)(F),x=Object(a.useCallback)((function(t,n){l(!0),e(le(n.x,n.y))}),[e,l]),y=Object(a.useCallback)((function(t,n){l(!1),e(le(n.x,n.y))}),[e,l]),N=i?Object(d.jsx)(h,{transparent:!0}):null,T=g?null:Object(d.jsxs)("div",{id:"trigger-tutorial",className:"trigger-tutorial modal-content",children:[Object(d.jsxs)("p",{children:["To control the MATLAB session (for example to restart or sign out), click the ",Object(d.jsx)("span",{className:"icon-custom-trigger icon trigger-tutorial-icon",title:"tools icon"})," icon."]}),Object(d.jsx)("p",{children:"The color of the badge shows the MATLAB status."}),Object(d.jsxs)("p",{children:["To position this widget anywhere on screen, click and drag the ",Object(d.jsx)("span",{className:"drag-handle icon",title:"grab handle icon"})," icon."]}),Object(d.jsx)("button",{className:"btn btn_color_blue pull-right","data-testid":"tutorialCloseBtn",onClick:function(){e({type:Y,hidden:!0})},children:"Close"})]}),A=g?Object(d.jsx)(m.a,{id:"trigger-button-tooltip",place:"bottom",type:"info",effect:"solid"}):null;return Object(d.jsxs)(d.Fragment,{children:[N,Object(d.jsx)(j.a,{position:t,onDrag:x,onStop:y,handle:".card-body",bounds:"parent",children:Object(d.jsxs)("div",{ref:u,className:"card alert-".concat(v.alert),"data-testid":"overlayTrigger",children:[Object(d.jsxs)("div",{className:"card-body","data-testid":"cardBody",children:[Object(d.jsx)("span",{id:"drag-handle",className:"drag-handle"}),Object(d.jsx)("button",{type:"button",className:"trigger-btn",onClick:O,onMouseDown:function(e){return e.stopPropagation()},"aria-label":"Menu","data-for":"trigger-button-tooltip","data-tip":"Open the ".concat(b," settings"),children:Object(d.jsx)("span",{className:"icon-custom-trigger"})})]}),T]})}),A]})};n(44);var Te=function(e){var t=e.url;return Object(d.jsx)("div",{id:"MatlabJsd",children:Object(d.jsx)("iframe",{title:"MATLAB JSD",src:t,frameBorder:"0",allowFullScreen:!0})})};var Ae=function(){var e=Object(s.b)(),t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],c=n[1],i=Object(s.c)(P),l=Object(s.c)(v),u=Object(a.useMemo)((function(){var e="login";return l.includes("integ")&&(e="".concat(e,"-").concat(l)),"https://".concat(e,".mathworks.com")}),[l]),b=Object(a.useState)(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15))[0];Object(a.useEffect)((function(){var t=function(t){if(t.origin===u){var n=JSON.parse(t.data);"nonce"===n.event?function(e,t,n){var a={event:"load",clientTransactionId:e,transactionId:t,release:"",platform:"web",clientString:"desktop-jupyter",clientId:"",sourceId:n,profileTier:"MINIMUM",showCreateAccount:!1,showRememberMe:!1,showLicenseField:!1,entitlementId:"",showPrivacyPolicy:!0,contextualText:"",legalText:"",cachedIdentifier:"",cachedRememberMe:"",token:"",unauthorized:!1};document.getElementById("loginframe").contentWindow.postMessage(JSON.stringify(a),"*")}(n.clientTransactionId,n.transactionId,b):"login"===n.event&&e(Oe({type:"MHLM",token:n.token,profileId:n.profileId,emailAddress:n.emailAddress,sourceId:b}))}};return window.addEventListener("message",t),function(){window.removeEventListener("message",t)}}),[e,b,u]),Object(a.useEffect)((function(){!0===r&&function(e){var t={event:"init",clientTransactionId:(Math.random()+"").substr(2),transactionId:"",release:"",platform:"",clientString:"desktop-jupyter",clientID:"",locale:"",profileTier:"",showCreateAccount:!1,showRememberMe:!1,showLicenseField:!1,licenseNo:"",cachedUsername:e,cachedRememberMe:!1};document.getElementById("loginframe").contentWindow.postMessage(JSON.stringify(t),"*")}(i)}),[r,i]);var j="".concat(u,"/embedded-login/v2/login.html");return Object(d.jsx)("div",{id:"MHLM",children:Object(d.jsx)("iframe",{id:"loginframe",title:"MathWorks Embedded Login",type:"text/html",height:"380",width:"100%",frameBorder:"0",src:j,onLoad:function(){return c(!0)},children:"Sorry your browser does not support inline frames."})})},we=n(22),Ee=/^[0-9]+[@](\w|\_|\-|\.)+/;var _e=function(){var e=Object(s.b)(),t=Object(a.useState)(""),n=Object(o.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(!1),l=Object(o.a)(i,2),u=l[0],b=l[1],j=function(e){var t,n=e.split(/:|;|,/),a=Object(we.a)(n);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(!Ee.test(r))return!1}}catch(c){a.e(c)}finally{a.f()}return!0}(r);return Object(d.jsx)("div",{id:"NLM",children:Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(Oe({type:"NLM",connectionString:r}))},children:[Object(d.jsxs)("div",{className:"form-group has-feedback ".concat(u?j?"has-success":"has-error":""),children:[Object(d.jsx)("label",{htmlFor:"nlm-connection-string",children:"License Server Address"}),Object(d.jsx)("input",{id:"nlm-connection-string",type:"text",required:!0,placeholder:"port@hostname",className:"form-control","aria-invalid":!j,value:r,onChange:function(e){b(!0),c(e.target.value)}}),Object(d.jsx)("span",{className:"glyphicon form-control-feedback glyphicon-remove"}),Object(d.jsx)("span",{className:"glyphicon form-control-feedback glyphicon-ok"})]}),Object(d.jsx)("input",{type:"submit",id:"submit",value:"Submit",className:"btn btn_color_blue",disabled:!j})]})})};n(45);var Se=function(){var e=Object(a.useState)("mhlm"),t=Object(o.a)(e,2),n=t[0],r=t[1],c="mhlm"===n?"active":"",s="mhlm"===n?"true":"false",i="nlm"===n?"active":"",l="nlm"===n?"true":"false";return Object(d.jsx)("div",{className:"modal show",id:"setup-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"setup-dialog-title",children:Object(d.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(d.jsx)("div",{className:"modal-content",children:Object(d.jsx)("div",{className:"modal-body",children:Object(d.jsxs)("div",{className:"tab-container",children:[Object(d.jsxs)("ul",{id:"setup-tabs",className:"nav nav-tabs",role:"tablist",children:[Object(d.jsx)("li",{role:"presentation",className:c,children:Object(d.jsx)("a",{href:"#mhlm",id:"mhlm-tab",onClick:function(e){e.preventDefault(),r("mhlm")},role:"tab","aria-controls":"mhlm","aria-expanded":s,children:"Online License Manager"})}),Object(d.jsx)("li",{role:"presentation",className:i,children:Object(d.jsx)("a",{href:"#nlm",id:"nlm-tab",onClick:function(e){e.preventDefault(),r("nlm")},role:"tab","aria-controls":"nlm","aria-expanded":l,children:"Network License Manager"})})]}),Object(d.jsxs)("div",{id:"setup-tabs-content",className:"tab-content",children:[Object(d.jsx)("div",{role:"tabpanel",className:"tab-pane ".concat(c),id:"mhlm","aria-labelledby":"mhlm-tab",children:Object(d.jsx)(Ae,{})}),Object(d.jsx)("div",{role:"tabpanel",className:"tab-pane ".concat(i),id:"nlm","aria-labelledby":"nlm-tab",children:Object(d.jsx)(_e,{})}),Object(d.jsx)("div",{children:Object(d.jsxs)("p",{id:"LicensingGathererNote",children:["For more details, see\xa0",Object(d.jsx)("a",{href:"https://github.com/mathworks/matlab-proxy/blob/main/MATLAB-Licensing-Info.md",target:"_blank",rel:"noopener noreferrer",children:"MATLAB Licensing information"})]})})]})]})})})})})},ke=(n(46),{"sign-out":["NetworkLicensingError","EntitlementError"],restart:["OnlineLicensingError"]});var Me=function(e){var t=e.callback,n=Object(s.c)(x),r=Object(s.c)(U),c=Object(s.c)(D),i=Object(s.c)(M),o=Object(s.c)(L),l=Object(s.c)(I),u=Object(s.c)(g),b=Object(s.c)(A),j=r&&!n,h=Object(a.useMemo)((function(){return"%0D%0A\nThank you for providing feedback.%0D%0A\n%0D%0A\nMATLAB version: ".concat(u,"%0D%0A")}),[u]),f={START:{type:"confirmation",message:"Are you sure you want to ".concat(i?"re":"","start MATLAB?"),callback:ye},STOP:{type:"confirmation",message:"Are you sure you want to stop MATLAB?",callback:xe},TERMINATE:{type:"confirmation",message:"Are you sure you want to terminate MATLAB and the backing matlab-proxy server?",callback:ve},SIGN_OUT:{type:"confirmation",message:"Are you sure you want to ".concat(c?"sign out of MATLAB":"unset the connection string","?"),callback:ge},HELP:{type:"help"}};function p(e){var t="btn companion_btn ";if(b){if((ke[e]||[]).includes(b.type))return t+"btn_color_blue"}else if("start"===e)return t+"btn_color_blue";return t+"btn_color_mediumgray"}return Object(d.jsxs)("div",{id:"controls",className:"labels-on-top",children:[Object(d.jsxs)("button",{id:"startMatlab","data-testid":"startMatlabBtn",className:p(i?"restart":"start"),onClick:function(){return t(f.START)},disabled:!r||o||l,"data-for":"control-button-tooltip","data-tip":"".concat(i?"Restart":"Start","  your MATLAB session"),children:[Object(d.jsx)("span",{className:"icon-custom-".concat(i?"re":"","start")}),Object(d.jsx)("span",{className:"btn-label",children:"".concat(i?"Restart":"Start"," MATLAB Session")})]}),Object(d.jsxs)("button",{id:"stopMatlab","data-testid":"stopMatlabBtn",className:p("stop"),onClick:function(){return t(f.STOP)},disabled:!i,"data-for":"control-button-tooltip","data-tip":"Stop your MATLAB session",children:[Object(d.jsx)("span",{className:"icon-custom-stop"}),Object(d.jsx)("span",{className:"btn-label",children:"Stop MATLAB Session"})]}),Object(d.jsxs)("button",{id:"unsetLicensing","data-testid":"unsetLicensingBtn",className:p("sign-out"),onClick:function(){return t(f.SIGN_OUT)},disabled:!j,"data-for":"control-button-tooltip","data-tip":c?"Sign out":"Unset the network license manager server address",children:[Object(d.jsx)("span",{className:"icon-custom-sign-out"}),Object(d.jsx)("span",{className:"btn-label",children:c?"Sign Out":"Unset License Server Address"})]}),Object(d.jsxs)("a",{id:"feedback","data-testid":"feedbackLink",className:"btn btn_color_mediumgray companion_btn",href:"mailto:cloud@mathworks.com?subject=MATLAB-PROXY Feedback&body=".concat(h),"data-for":"control-button-tooltip","data-tip":"Send feedback (opens your default email application)",children:[Object(d.jsx)("span",{className:"icon-custom-feedback"}),Object(d.jsx)("span",{className:"btn-label",children:"Feedback"})]}),Object(d.jsxs)("button",{id:"Help","data-testid":"helpBtn",className:"btn btn_color_mediumgray companion_btn",onClick:function(){return t(f.HELP)},"data-for":"control-button-tooltip","data-tip":"See a description of the buttons",children:[Object(d.jsx)("span",{className:"icon-custom-help"}),Object(d.jsx)("span",{className:"btn-label",children:"Help"})]}),Object(d.jsx)(m.a,{id:"control-button-tooltip",place:"top",type:"info",effect:"solid"})]})},Le=n(10),Ie=n.n(Le);n(59);var Ce=function(e){var t,n=e.closeHandler,r=e.children,c=Object(s.c)(N),i=Object(s.c)(A),l=Object(s.c)(C),u=Object(a.useState)(!1),b=Object(o.a)(u,2),j=b[0],m=b[1];switch(null===c||void 0===c?void 0:c.type){case"MHLM":t={label:"Online License Manager (".concat(c.emailAddress,")")};break;case"NLM":t={label:"Network License Manager (".concat(c.connectionString,")")};break;default:t={label:"None"}}var h=Object(s.c)(F),f=i?Object(d.jsxs)("div",{className:"error-container alert alert-danger",children:[Object(d.jsx)("p",{children:Object(d.jsx)("strong",{children:"Error"})}),Object(d.jsx)(Ie.a,{children:Object(d.jsx)("div",{className:"error-text",children:i.message})})]}):null,p=i&&null!==i.logs&&i.logs.length>0?Object(d.jsxs)("div",{className:"expand_collapse error-logs-container",children:[Object(d.jsxs)("h4",{className:"expand_trigger ".concat(j?"expanded":"collapsed"),onClick:function(){m(!j)},children:[Object(d.jsx)("span",{className:"icon-arrow-open-down"}),Object(d.jsx)("span",{className:"icon-arrow-open-right"}),"Error logs"]}),Object(d.jsx)("div",{id:"error-logs",className:"expand_target error-container alert alert-danger ".concat(j?"expanded":"collapsed"),"aria-expanded":j,children:Object(d.jsx)(Ie.a,{children:Object(d.jsx)("div",{className:"error-msg",children:i.logs.join("\n").trim()})})})]}):null;return Object(d.jsx)("div",{className:"modal show",id:"information",onClick:l?function(e){e.target===e.currentTarget&&(e.preventDefault(),n())}:null,tabIndex:"-1",role:"dialog","aria-labelledby":"information-dialog-title",children:Object(d.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(d.jsxs)("div",{className:"modal-content alert alert-".concat(h.alert),children:[Object(d.jsxs)("div",{className:"modal-header",children:[l&&Object(d.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:n,children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(d.jsx)("span",{className:"alert_icon icon-alert-".concat(h.icon)}),Object(d.jsx)("h4",{className:"modal-title alert_heading",id:"information-dialog-title",children:"Status Information"})]}),Object(d.jsxs)("div",{className:"modal-body",children:[Object(d.jsx)("table",{className:"details",children:Object(d.jsxs)("tbody",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"MATLAB Status:"}),Object(d.jsxs)("td",{children:[Object(d.jsx)("span",{id:"spinner",className:h.spinner?"show":"hidden"}),h.label]})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"Licensing:"}),Object(d.jsx)("td",{children:t.label})]})]})}),f,p]}),Object(d.jsx)("div",{className:"modal-footer",children:r})]})})})};n(60);var Be=function(e){var t=e.closeHandler,n=e.dismissAllHandler,a=Object(s.c)(C),r=Object(s.c)(E),c=r.doc_url,i=""===r.extension_name?"MATLAB Web Desktop":"MATLAB Integration for ".concat(r.extension_name_short_description);return Object(d.jsx)("div",{className:"modal show",id:"help",onClick:a?function(e){e.target===e.currentTarget&&(e.preventDefault(),n())}:null,tabIndex:"-1",role:"dialog","aria-labelledby":"help-dialog-title",children:Object(d.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsx)("div",{className:"modal-header",children:Object(d.jsx)("h4",{className:"modal-title",id:"confirmation-dialog-title",children:"Help"})}),Object(d.jsxs)("div",{className:"modal-body help",children:[Object(d.jsxs)("p",{children:["The status panel shows you options to manage the ",Object(d.jsx)("a",{href:c,target:"_blank",rel:"noopener noreferrer",children:i}),"."]}),Object(d.jsx)("p",{children:"Use the buttons in the status panel to:"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:"icon-custom-start",children:"Start your MATLAB session. Available if MATLAB is stopped."}),Object(d.jsx)("p",{className:"icon-custom-restart",children:"Restart your MATLAB session. Available if MATLAB is running or starting."}),Object(d.jsx)("p",{className:"icon-custom-stop",children:"Stop your MATLAB session. Use this option if you want to free up RAM and CPU resources. Available if MATLAB is running or starting."}),Object(d.jsxs)("p",{className:"icon-custom-sign-out",children:["Sign out of MATLAB. Use this to stop MATLAB and to sign in with an alternative account. Available if using online licensing.",Object(d.jsx)("br",{}),"Unset network license manager server address. Use this to stop MATLAB and enter new licensing information. Available if using network license manager."]}),Object(d.jsx)("p",{className:"icon-custom-feedback",children:"Send feedback about the ".concat(i,". This action opens your default email application.")})]})]}),Object(d.jsx)("div",{className:"modal-footer",children:Object(d.jsx)("button",{onClick:t,"data-testid":"backBtn",className:"btn btn_color_blue",children:"Back"})})]})})})};n(61);var Re=function(e){var t=e.message,n=e.logs,a=e.children,r=n?Object(d.jsx)("p",{className:"error-msg",children:n}):null;return Object(d.jsx)("div",{className:"modal show",id:"error",tabIndex:"-1",role:"dialog","aria-labelledby":"help-dialog-title",children:Object(d.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(d.jsxs)("div",{className:"modal-content alert alert-danger",children:[Object(d.jsxs)("div",{className:"modal-header",children:[Object(d.jsx)("span",{className:"alert_icon icon-alert-error"}),Object(d.jsx)("h4",{className:"modal-title alert_heading",children:"Error"})]}),Object(d.jsxs)("div",{className:"modal-body",children:[Object(d.jsx)("p",{children:t}),Object(d.jsx)(Ie.a,{children:r}),a]})]})})})};var Ue=function(){var e,t,n=Object(s.b)(),r=Object(s.c)(V),c=Object(s.c)(R),i=Object(s.c)(y),b=Object(s.c)(E),j=Object(s.c)(U),m=Object(s.c)(k),f=Object(s.c)(A),p=Object(s.c)(T),O=Object(s.c)(S),g=Object(a.useCallback)((function(){return n(de(!r))}),[r,n]),v=Object(a.useState)(null),x=Object(o.a)(v,2),N=x[0],w=x[1];if(N){var _=function(){return w(null)};switch(N.type){case"confirmation":e=Object(d.jsx)(u,{confirm:function(){n(N.callback()),w(null)},cancel:_,children:N.message||""});break;case"help":e=Object(d.jsx)(Be,{closeHandler:_,dismissAllHandler:function(){_(),g(!1)}});break;default:throw new Re("Unknown dialog type: ".concat(N.type,"."))}}O?e=Object(d.jsx)(Re,{message:"Either this integration terminated or the session ended",children:Object(d.jsxs)("p",{children:["Attempt to ",Object(d.jsx)("a",{href:"../",children:"return to a parent app"})]})}):f&&"MatlabInstallError"===f.type&&(e=Object(d.jsx)(Re,{message:f.message})),Object(a.useEffect)((function(){b||n(function(){var e=Object(Q.a)(W.a.mark((function e(t,n){var a,r;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:ie}),e.next=3,he(t,"./get_env_config",{},1e4);case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,t({type:oe,config:r});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[n,b]),Object(a.useEffect)((function(){i||n(pe())}),[n,i]),Object(l.a)((function(){n(pe())}),c),Object(a.useEffect)((function(){null!==p&&(window.location.href=p)}),[p]),e?t=e:i&&!j?t=Object(d.jsx)(Se,{}):j&&!e&&(t=Object(d.jsx)(Ce,{closeHandler:g,children:Object(d.jsx)(Me,{callback:function(e){return w(e)}})}));var M=r?Object(d.jsx)(h,{children:t}):null,L=m?Object(d.jsx)(Te,{url:"./index-jsd-cr.html"}):null,I=r?null:Object(d.jsx)(Ne,{});return Object(d.jsxs)("div",{"data-testid":"app",className:"main",children:[I,L,M]})};var De=Object(i.b)({licensingInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:case ne:case ae:case re:case ce:return Object(G.a)({},t.status.licensing);default:return e}},matlabStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"down",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:case ne:case ae:case re:case ce:return t.status.matlab.status;case ee:case te:return t.status;default:return e}},matlabVersion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:case ne:case ae:case re:case ce:return t.status.matlab.version;default:return e}},wsEnv:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:case ne:case ae:case re:case ce:return t.status.wsEnv;default:return e}},isFetching:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:case Z:case $:case ee:case te:case ie:return!0;case K:case ne:case ae:case re:case ce:case se:case oe:return!1;default:return e}},hasFetched:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:case ne:case ae:case re:case ce:return!0;default:return e}},isSubmitting:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:case $:case ee:case te:return!0;case ne:case ae:case re:case ce:case se:return!1;default:return e}},fetchFailCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:case ne:case ae:case re:case ce:return 0;case se:return e+1;default:return e}}}),Pe=Object(i.b)({triggerPosition:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:window.innerWidth/2+27,y:0},t=arguments.length>1?arguments[1]:void 0;return t.type===X?{x:t.x,y:t.y}:e},tutorialHidden:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return t.type===Y?t.hidden:e},overlayVisibility:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return t.visibility;case K:if(!0===t.previousMatlabPending&&"up"===t.status.matlab.status)return!1;default:return e}},serverStatus:De,loadUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===ae?t.loadUrl:e},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return{message:t.error,statusCode:null===t||void 0===t?void 0:t.statusCode,logs:null};case K:case ne:case ae:case re:case ce:return t.status.error?{message:t.status.error.message,logs:t.status.error.logs,type:t.status.error.type}:null;default:return e}},envConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===oe?t.config:e}}),He=n(23),Ve="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.c,Fe=Object(i.d)(Pe,Ve(Object(i.a)(He.a)));c.a.render(Object(d.jsx)(s.a,{store:Fe,children:Object(d.jsx)(Ue,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.387b9ec7.chunk.js.map