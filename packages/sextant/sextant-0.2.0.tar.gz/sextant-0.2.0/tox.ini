[tox]
minversion = 2.5.0
envlist = py{37,38,39,310}-{style,tests,lint}
skip_missing_interpreters = True

[testenv]
usedevelop = True
basepython =
    py37: python3.7
    py38: python3.8
    py39: python3.9
    py310: python3.10
description =
    style: Style consistency checker
    tests: Run all tests
    py37: (Python 3.7)
    py38: (Python 3.8)
    py39: (Python 3,9)
    py310: (Python 3,10)
commands =
    lint: mypy  sextant
    lint: pylint --rcfile .pylintrc sextant
    style: flake8
    style: black  --check .
    test: py.test --strict-markers tests {posargs}
# Use install_requires and the additional extras_require[tests] from setup.py
deps = .[tests]
    lint: mypy
    lint: pylint

[flake8]
max-line-length = 120
statistics = True
exclude = .git,build,dist,__pycache__,.tox,.venv,.mypy_cache,.eggs
