import{d as I,r as S,ak as B,c as s,Q as D,$ as L,al as V,am as N,an as W,a as o,w as n,a1 as w,a2 as $,W as j,ao as q,o as l,u as e,ap as A,e as u,aq as f,ar as E,b as d,as as O,at as Q,au as U,av as z}from"./index-f1382dab-33a61378.js";import{u as G}from"./usePageTitle-14f0a7e2.js";import"./index-7d7f7986.js";import{r as H}from"./routes-f652c86d.js";import"./meta-26546594.js";const ee=I({__name:"FlowRun",setup(J){const i=$(),c=S("Logs"),p=B("flowRunId"),m=s(()=>{const t=["Logs","Task Runs","Subflow Runs","Parameters"];return j.xl||t.push("Details"),t}),_=D(),v=L(_.flowRuns.getFlowRun,[p],{interval:3e4}),a=s(()=>v.response),y=s(()=>{var t;return(t=a.value)==null?void 0:t.deploymentId}),R=V(y);N(p,(t,r)=>{t!==r&&(c.value="Logs")});const k=s(()=>{var t;return((t=a.value)==null?void 0:t.parameters)??{}}),b=s(()=>{var t;return((t=R.value)==null?void 0:t.parameterOpenApiSchema)??{}}),g=s(()=>q(k.value,b.value));function h(){i.push(H.flowRuns())}const F=s(()=>{var t;return(t=a.value)==null?void 0:t.stateType});W(F);const T=s(()=>a.value?`Flow Run: ${a.value.name}`:"Flow Run");return G(T),(t,r)=>{const x=w("p-tabs"),P=w("p-layout-well");return l(),o(P,{class:"flow-run"},{header:n(()=>[e(a)?(l(),o(e(A),{key:0,"flow-run-id":e(a).id,onDelete:h},null,8,["flow-run-id"])):u("",!0)]),well:n(()=>[e(a)?(l(),o(e(f),{key:0,"flow-run":e(a),alternate:""},null,8,["flow-run"])):u("",!0)]),default:n(()=>[e(a)?(l(),o(e(E),{key:0,"flow-run":e(a)},null,8,["flow-run"])):u("",!0),d(x,{selected:c.value,"onUpdate:selected":r[0]||(r[0]=C=>c.value=C),tabs:e(m)},{details:n(()=>[e(a)?(l(),o(e(f),{key:0,"flow-run":e(a)},null,8,["flow-run"])):u("",!0)]),logs:n(()=>[e(a)?(l(),o(e(O),{key:0,"flow-run":e(a)},null,8,["flow-run"])):u("",!0)]),"task-runs":n(()=>[e(a)?(l(),o(e(Q),{key:0,"flow-run-id":e(a).id},null,8,["flow-run-id"])):u("",!0)]),"subflow-runs":n(()=>[e(a)?(l(),o(e(U),{key:0,"flow-run-id":e(a).id},null,8,["flow-run-id"])):u("",!0)]),parameters:n(()=>[d(e(z),{value:e(g)},null,8,["value"])]),_:1},8,["selected","tabs"])]),_:1})}}});export{ee as default};
