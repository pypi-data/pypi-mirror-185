import{U as L,d as h,c as C,o as l,a as f,w as u,b as n,u as e,j as c,e as y,G as M,f as v,z as U,R as F,O as V,p as d,r as D,W as w,g as N,h as A,l as b,i as $,T as B,k as P,m as T,X as W,S as j,V as G,F as E,n as K,M as q,q as z,s as H,t as Q,D as X,Y}from"./index-f1382dab-33a61378.js";import{r as J}from"./index-7d7f7986.js";import{i as Z}from"./colorMode-48834b77.js";import{r as i}from"./routes-f652c86d.js";import{U as g,A as ee}from"./ApiRoute-341bcd39.js";import"./meta-26546594.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))_(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const p of s.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&_(p)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function _(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();const I=Symbol("canInjectionKey");function te(){return L(I)}const oe=h({__name:"ContextSidebar",setup(a){const t=te(),r=C(()=>t.access.workers&&t.read.work_pool);return(_,o)=>(l(),f(e(M),{class:"context-sidebar"},{footer:u(()=>[n(e(c),{title:"Settings",icon:"CogIcon",to:e(i).settings()},null,8,["to"])]),default:u(()=>[n(e(c),{title:"Flow Runs",icon:"FlowRun",to:e(i).flowRuns()},null,8,["to"]),n(e(c),{title:"Flows",icon:"Flow",to:e(i).flows()},null,8,["to"]),n(e(c),{title:"Deployments",icon:"LocationMarkerIcon",to:e(i).deployments()},null,8,["to"]),e(r)?(l(),f(e(c),{key:0,title:"Workers",icon:"DatabaseIcon",to:e(i).workPools()},null,8,["to"])):y("",!0),n(e(c),{title:"Work Queues",icon:"DatabaseIcon",to:e(i).workQueues()},null,8,["to"]),n(e(c),{title:"Blocks",icon:"CubeIcon",to:e(i).blocks()},null,8,["to"]),n(e(c),{title:"Notifications",icon:"BellIcon",to:e(i).notifications()},null,8,["to"]),n(e(c),{title:"Task Run Concurrency",icon:"Task",to:e(i).concurrencyLimits()},null,8,["to"])]),_:1}))}}),se={class:"app-router-view"},ne=h({__name:"AppRouterView",async setup(a){let t,r;const _=([t,r]=v(()=>g.get("apiUrl")),t=await t,r(),t),o=U({baseUrl:_}),s=([t,r]=v(()=>g.get("flags")),t=await t,r(),t),p=F([...V,...s]),R=E();d(I,p),d(W,p),d(j,o),d(G,R);const m=D(!1),k=C(()=>w.lg||m.value);function x(){m.value=!m.value}function O(){m.value=!1}return N(()=>document.body.classList.toggle("body-scrolling-disabled",k.value&&!w.lg)),(pe,fe)=>(l(),A("div",se,[e(w).lg?y("",!0):(l(),f(e($),{key:0,class:"app-router-view__mobile-menu"},{"upper-links":u(()=>[n(e(b),{icon:"PrefectGradient",class:"app-router-view__prefect-icon"})]),"bottom-links":u(()=>[n(e(b),{icon:"MenuIcon",class:"app-router-view__menu-icon",onClick:x})]),_:1})),e(k)?(l(),f(oe,{key:1,class:"app-router-view__sidebar",onClick:O})):y("",!0),n(e(T),{class:"app-router-view__view"},{default:u(({Component:S})=>[n(B,{name:"app-router-view-fade",mode:"out-in"},{default:u(()=>[(l(),f(P(S)))]),_:2},1024)]),_:1})]))}});class ae extends ee(q){}const re=K(new ae);async function ce(){try{await re.getHealth()}catch(a){const t=await g.get("apiUrl").then(r=>r);z(`Can't connect to Orion API at ${t}. Check that it's accessible from your machine.`,"error",{timeout:!1}),console.warn(a)}}const ie={class:"app","data-teleport-target":"app"},le=h({__name:"App",setup(a){return ce(),(t,r)=>(l(),A("div",ie,[(l(),f(H,null,{default:u(()=>[n(ne)]),_:1}))]))}});Z();function ue(){const a=Q(le);a.use(J),a.use(X),a.use(Y),a.mount("#app")}ue();
