"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[23],{60057:function(n,e,t){t.d(e,{c:function(){return s}});var r=t(325),i=t(27601),o=t(32289),s=function(n){return r.useEffect((function(){var n=function(n){n.preventDefault(),n.returnValue=""};return window.addEventListener("beforeunload",n),function(){window.removeEventListener("beforeunload",n)}}),[]),(0,o.jsx)(i.NL,{message:n.message})}},57094:function(n,e,t){t.d(e,{F:function(){return d}});var r=t(922),i=t(43913),o=t(73701),s=t(32030),a=t(34595),c=(t(325),t(74549)),u=t(12436),l=(t(96560),t(32289)),d=function(n){var e=n.runId,t=(0,o.a)(p,{variables:{runId:e}});if(t.loading||!t.data)return(0,l.jsx)(m,{children:(0,l.jsx)(s.x,{padding:24,flex:{justifyContent:"center"},children:(0,l.jsx)(a.$,{purpose:"section"})})});var r=t.data.pipelineRunOrError;if("Run"!==r.__typename)return(0,l.jsx)(u.T9,{error:r});if("RunStatsSnapshot"!==r.stats.__typename)return(0,l.jsx)(u.T9,{error:r.stats});var i="/runs/".concat(e);return(0,l.jsxs)(m,{children:[(0,l.jsx)(c.rU,{to:"".concat(i,"?logs=type:STEP_SUCCESS"),children:"".concat(r.stats.stepsSucceeded," steps succeeded")}),(0,l.jsx)(c.rU,{to:"".concat(i,"?logs=type:STEP_FAILURE"),children:"".concat(r.stats.stepsFailed," steps failed")}),(0,l.jsx)(c.rU,{to:"".concat(i,"?logs=type:ASSET_MATERIALIZATION"),children:"".concat(r.stats.materializations," materializations")}),(0,l.jsx)(c.rU,{to:"".concat(i,"?logs=type:STEP_EXPECTATION_RESULT"),children:"".concat(r.stats.expectations," expectations passed")})]})},p=i.tFk,m=r.ZP.div.withConfig({displayName:"RunStats__RunStatsDetailsContainer",componentId:"sc-7pgndz-0"})(["min-width:200px;padding:12px;color:white;font-size:12px;& > a{display:block;}"])},59549:function(n,e,t){t.d(e,{hk:function(){return v},K9:function(){return j},O_:function(){return w}});var r,i,o=t(99500),s=t(95764),a=t(81034),c=t(922),u=t(7838),l=t(762),d=t(34595),p=t(325),m=t(57094),f=t(34653),h=t(32289),x=["runId"],g={QUEUED:u.w.Blue200,NOT_STARTED:u.w.Gray600,STARTING:u.w.Gray400,MANAGED:u.w.Gray400,STARTED:u.w.Blue500,SUCCESS:u.w.Green500,FAILURE:u.w.Red500,CANCELING:u.w.Red500,CANCELED:u.w.Red500,SCHEDULED:u.w.Blue200},v=p.memo((function(n){var e=n.runId,t=(0,a.Z)(n,x);return(0,h.jsx)(l.J,{position:"bottom",interactionKind:"hover",content:(0,h.jsx)(m.F,{runId:e}),hoverOpenDelay:100,children:(0,h.jsx)(j,(0,s.Z)({},t))})})),j=p.memo((function(n){var e=n.status,t=n.size;return"STARTED"===e?(0,h.jsx)(d.$,{purpose:"caption-text"}):"SCHEDULED"===e?(0,h.jsx)(w,{status:e,size:t||12}):(0,h.jsx)(w,{status:e,size:t||12,pulse:f.Ys.has(e)||f.sy.has(e)})})),y=(0,c.F4)(r||(r=(0,o.Z)(["\n  0% {\n    filter: brightness(1);\n  }\n\n  50% {\n    filter: brightness(0.7);\n  }\n\n  100% {\n    filter: brightness(1);\n  }\n"]))),w=c.ZP.div.withConfig({displayName:"RunStatusDots__RunStatusDot",componentId:"m2w7pp-0"})(["width:","px;height:","px;border-radius:","px;transition:filter 200ms linear;"," background:",";&:hover{animation:none;filter:brightness(0.7);}"],(function(n){return n.size}),(function(n){return n.size}),(function(n){return n.size/2}),(function(n){return n.pulse?(0,c.iv)(i||(i=(0,o.Z)(["\n          animation: "," 2s infinite;\n        "])),y):null}),(function(n){var e=n.status;return g[e]}))},38568:function(n,e,t){t.d(e,{A:function(){return k}});var r=t(85358),i=t(19065),o=t(16798),s=t(95764),a=t(95550),c=t.n(a),u=t(49148),l=t(33918),d=t(6466),p=t(50346),m=t(32030),f=t(24971),h=t(7838),x=t(75453),g=t(12745),v=t(8358),j=t(325),y=t(43913),w=t(60057),C=t(55752),E=t(32289),b=function(n){if("TerminateRunSuccess"===(null===n||void 0===n?void 0:n.terminatePipelineExecution.__typename))throw new ErrorEvent("Not an error!");return null===n||void 0===n?void 0:n.terminatePipelineExecution},_=function(n){return{mustForce:!Object.keys(n).some((function(e){return n[e]})),frozenRuns:n,step:"initial",termination:{completed:0,errors:{}}}},Z=function(n,e){switch(e.type){case"reset":return _(e.frozenRuns);case"toggle-force-terminate":return(0,s.Z)((0,s.Z)({},n),{},{mustForce:e.checked});case"start":return(0,s.Z)((0,s.Z)({},n),{},{step:"terminating"});case"termination-success":var t=n.termination;return(0,s.Z)((0,s.Z)({},n),{},{step:"terminating",termination:(0,s.Z)((0,s.Z)({},t),{},{completed:t.completed+1})});case"termination-error":var r=n.termination;return(0,s.Z)((0,s.Z)({},n),{},{step:"terminating",termination:(0,s.Z)((0,s.Z)({},r),{},{completed:r.completed+1,errors:(0,s.Z)((0,s.Z)({},r.errors),{},(0,o.Z)({},e.id,e.error))})});case"complete":return(0,s.Z)((0,s.Z)({},n),{},{step:"completed"})}},k=function(n){var e=n.isOpen,t=n.onClose,o=n.onComplete,s=n.selectedRuns,a=j.useRef(s),k=j.useReducer(Z,a.current,_),R=(0,i.Z)(k,2),S=R[0],T=R[1],z=Object.keys(S.frozenRuns).length;j.useEffect((function(){e&&T({type:"reset",frozenRuns:a.current})}),[e]),j.useEffect((function(){e||(a.current=s)}),[e,s]);var N=(0,u.D)(C.zU),I=(0,i.Z)(N,1)[0],O=S.mustForce?y.vlg.MARK_AS_CANCELED_IMMEDIATELY:y.vlg.SAFE_TERMINATE,F=function(){var n=(0,r.Z)(c().mark((function n(){var e,t,r,i,s;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:T({type:"start"}),e=Object.keys(S.frozenRuns),t=0;case 3:if(!(t<e.length)){n.next=13;break}return r=e[t],n.next=7,I({variables:{runId:r,terminatePolicy:O}});case 7:i=n.sent,"TerminateRunSuccess"===(null===(s=i.data)||void 0===s?void 0:s.terminatePipelineExecution.__typename)?T({type:"termination-success"}):T({type:"termination-error",id:r,error:b(s)});case 10:t++,n.next=3;break;case 13:T({type:"complete"}),o(S.termination);case 15:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),A=function(n){T({type:"toggle-force-terminate",checked:n.target.checked})},D=Object.keys(S.frozenRuns).some((function(n){return S.frozenRuns[n]})),L="terminating"!==S.step;return(0,E.jsxs)(v.Vq,{isOpen:e,title:"Terminate runs",canEscapeKeyClose:L,canOutsideClickClose:L,onClose:t,children:[(0,E.jsx)(v.a7,{children:(0,E.jsxs)(d.Z,{direction:"column",spacing:24,children:[function(){switch(S.step){case"initial":return z?(0,E.jsxs)(d.Z,{direction:"column",spacing:16,children:[(0,E.jsx)("div",{children:"".concat(z," ").concat(1===z?"run":"runs"," will be terminated. Do you wish to continue?")}),(0,E.jsx)("div",{children:D?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(p.X,{checked:S.mustForce,size:"small",label:"Force termination immediately",onChange:A}),S.mustForce?(0,E.jsxs)(m.x,{flex:{display:"flex",direction:"row",gap:8},margin:{top:8},children:[(0,E.jsx)(f.JO,{name:"warning",color:h.w.Yellow500}),(0,E.jsxs)("div",{children:[(0,E.jsx)("strong",{children:"Warning:"})," computational resources created by runs may not be cleaned up."]})]}):null]}):(0,E.jsxs)(d.Z,{direction:"row",spacing:8,children:[(0,E.jsx)(f.JO,{name:"warning",color:h.w.Yellow500}),(0,E.jsxs)("div",{children:[(0,E.jsx)("strong",{children:"Warning:"})," computational resources created by runs may not be cleaned up."]})]})})]}):(0,E.jsxs)(d.Z,{direction:"column",spacing:16,children:[(0,E.jsx)("div",{children:"No runs selected for termination."}),(0,E.jsx)("div",{children:"The runs you selected may already have finished executing."})]});case"terminating":case"completed":var n=z>0?S.termination.completed/z:1;return(0,E.jsxs)(d.Z,{direction:"column",spacing:8,children:[(0,E.jsx)("div",{children:S.mustForce?"Forcing termination\u2026":"Terminating\u2026"}),(0,E.jsx)(l.ko,{intent:"primary",value:Math.max(.1,n),animate:n<1}),"terminating"===S.step?(0,E.jsx)(w.c,{message:"Termination in progress, please do not navigate away yet."}):null]});default:return null}}(),function(){if("initial"===S.step)return null;if("terminating"===S.step)return(0,E.jsx)("div",{children:"Please do not close the window or navigate away during termination."});var n=S.termination.errors,e=Object.keys(n).length,t=S.termination.completed-e;return(0,E.jsxs)(d.Z,{direction:"column",spacing:8,children:[t?(0,E.jsxs)(d.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,E.jsx)(f.JO,{name:"check_circle",color:h.w.Green500}),(0,E.jsx)("div",{children:S.mustForce?"Successfully forced termination for ".concat(t,"\n                ").concat(1===t?"run":"runs","."):"Successfully requested termination for ".concat(t,"\n              ").concat(1===t?"run":"runs",".")})]}):null,e?(0,E.jsxs)(d.Z,{direction:"column",spacing:8,children:[(0,E.jsxs)(d.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,E.jsx)(f.JO,{name:"warning",color:h.w.Yellow500}),(0,E.jsx)("div",{children:S.mustForce?"Could not force termination for ".concat(e," ").concat(1===e?"run":"runs",":"):"Could not request termination for ".concat(e," ").concat(1===e?"run":"runs",":")})]}),(0,E.jsx)("ul",{children:Object.keys(n).map((function(e){var t;return(0,E.jsx)("li",{children:(0,E.jsxs)(d.Z,{direction:"row",spacing:8,children:[(0,E.jsx)(g.fv,{children:e.slice(0,8)}),n[e]?(0,E.jsx)("div",{children:null===(t=n[e])||void 0===t?void 0:t.message}):null]})},e)}))})]}):null]})}()]})}),(0,E.jsx)(v.cN,{children:function(){switch(S.step){case"initial":return z?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(x.zx,{intent:"none",onClick:t,children:"Cancel"}),(0,E.jsx)(x.zx,{intent:"danger",onClick:F,children:"".concat(S.mustForce?"Force termination for":"Terminate"," ","".concat(z," ").concat(1===z?"run":"runs"))})]}):(0,E.jsx)(x.zx,{intent:"none",onClick:t,children:"OK"});case"terminating":return(0,E.jsx)(x.zx,{intent:"danger",disabled:!0,children:S.mustForce?"Forcing termination for ".concat("".concat(z," ").concat(1===z?"run":"runs","...")):"Terminating ".concat("".concat(z," ").concat(1===z?"run":"runs","..."))});case"completed":return(0,E.jsx)(x.zx,{intent:"primary",onClick:t,children:"Done"})}}()})]})}},39956:function(n,e,t){t.d(e,{_:function(){return s}});var r=t(325),i=t(76336),o=t(48953),s=function(n){var e=(0,i.vl)().options,t=r.useMemo((function(){if(!n)return null;var t=n.pipelineName,r=n.repositoryOrigin;if(!r)return null;var i=null===r||void 0===r?void 0:r.repositoryLocationName,s=null===r||void 0===r?void 0:r.repositoryName,a=e.find((function(n){return n.repository.name===s&&n.repositoryLocation.name===i}));return a&&(0,o.h)(a,t)?a:null}),[e,n]),s=r.useMemo((function(){var t;if(!n)return null;var r=n.pipelineName,i=null!==(t=n.parentPipelineSnapshotId)&&void 0!==t?t:n.pipelineSnapshotId;if(r&&i){var s=(0,o.k)(e,r,i);if(s.length)return s}return null}),[e,n]),a=r.useMemo((function(){if(!n)return null;var t=n.pipelineName,r=(0,o.k)(e,t);return r.length?r:null}),[e,n]);if(t){if(s){var c=s.find((function(n){return n.repository.name===t.repository.name&&n.repositoryLocation.name===t.repositoryLocation.name}));if(c)return{match:c,type:"origin-and-snapshot"}}return{match:t,type:"origin-only"}}return s?{match:s[0],type:"snapshot-only"}:a?{match:a[0],type:"pipeline-name-only"}:null}},47387:function(n,e,t){t.d(e,{b$:function(){return a},pI:function(){return c},Rp:function(){return u}});var r=t(922),i=(t(325),t(75453)),o=t(24971),s=t(32289),a=function(n){var e=n.hasPrevCursor,t=n.hasNextCursor,r=n.popCursor,a=n.advanceCursor;return(0,s.jsxs)(u,{children:[(0,s.jsx)(i.zx,{disabled:!e,icon:(0,s.jsx)(o.JO,{name:"arrow_back"}),onClick:r,children:"Previous"}),(0,s.jsx)(i.zx,{disabled:!t,rightIcon:(0,s.jsx)(o.JO,{name:"arrow_forward"}),onClick:a,children:"Next"})]})},c=function(n){var e=n.hasPrevCursor,t=n.hasNextCursor,r=n.popCursor,a=n.advanceCursor;return(0,s.jsxs)(u,{children:[(0,s.jsx)(i.zx,{icon:(0,s.jsx)(o.JO,{name:"arrow_back"}),disabled:!e,onClick:r,children:(0,s.jsx)("span",{className:"hideable-button-text",children:"Newer"})}),(0,s.jsx)(i.zx,{rightIcon:(0,s.jsx)(o.JO,{name:"arrow_forward"}),disabled:!t,onClick:a,children:(0,s.jsx)("span",{className:"hideable-button-text",children:"Older"})})]})},u=r.ZP.div.withConfig({displayName:"CursorControls__CursorControlsContainer",componentId:"sc-1r53tbu-0"})(["display:flex;justify-content:center;align-items:center;gap:12px;margin-top:16px;"])}}]);
//# sourceMappingURL=23.ba96e7f7.chunk.js.map