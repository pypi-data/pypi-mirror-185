"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[610],{87535:function(e,n,t){t.d(n,{CY:function(){return j},N9:function(){return C}});var o=t(19065),r=t(43913),i=t(73701),s=t(325),a=t(27601),l=t(78093),p=t(13253),d=t(77171),u=(t(96560),t(82348)),c=t(50741),h=t(76336),x=t(27218),f=t(2112),v=t(57872),m=t(96294),g=t(32289),j=function(){(0,l.Px)();var e=(0,a.UO)(),n=(0,m.p3)(e[0]),t=n.pipelineName,o=n.snapshotId,r=(0,a.k6)();return(0,u.j)("Snapshot: ".concat(t).concat(o?"@".concat(o.slice(0,8)):"")),(0,g.jsx)(C,{explorerPath:n,onChangeExplorerPath:function(e,n){r[n]("/snapshots/".concat((0,m.gY)(e)))},onNavigateToSourceAssetNode:function(e){var n=e.assetKey;r.push((0,d.p)(n))}})},C=function(e){var n,t=e.explorerPath,r=e.repoAddress,a=e.onChangeExplorerPath,l=e.onNavigateToSourceAssetNode,d=e.isGraph,u=void 0!==d&&d,m=s.useState({explodeComposites:null!==(n=t.explodeComposites)&&void 0!==n&&n,preferAssetRendering:!0}),j=(0,o.Z)(m,2),C=j[0],b=j[1],I=t.opNames.slice(0,t.opNames.length-1),S=(0,h._T)(r||null,t.pipelineName),P=(0,i.a)(y,{variables:{snapshotPipelineSelector:t.snapshotId?void 0:S,snapshotId:t.snapshotId?t.snapshotId:void 0,rootHandleID:I.join("."),requestScopeHandleID:C.explodeComposites?void 0:I.join(".")}});return(0,g.jsx)(c.g,{queryResult:P,children:function(e){var n=e.pipelineSnapshotOrError;if("PipelineSnapshot"!==n.__typename)return(0,g.jsx)(v.Q,{isGraph:u,result:n,repoAddress:r});var o=n.solidHandle,i=C.explodeComposites?(0,x.i)(n.solidHandles):n.solidHandles,s=n.solidHandles.some((function(e){return e.solid.definition.assetNodes.length>0}));return C.preferAssetRendering&&s?(0,g.jsx)(p.OK,{options:C,setOptions:b,fetchOptions:{pipelineSelector:S},explorerPath:t,onChangeExplorerPath:a,onNavigateToSourceAssetNode:l}):(0,g.jsx)(f.m0,{options:C,setOptions:b,explorerPath:t,onChangeExplorerPath:a,container:n,repoAddress:r,handles:i,parentHandle:o||void 0,isGraph:u,getInvocations:function(e){return i.filter((function(n){return n.solid.definition.name===e})).map((function(e){return{handleID:e.handleID}}))}})}})},y=r.iaU},33247:function(e,n,t){t.d(n,{G:function(){return O}});var o=t(95764),r=t(59019),i=t(19065),s=t(43913),a=t(57615),l=t(30804),p=t(32030),d=t(89646),u=t(54268),c=t(47387),h=t(325),x=t(27601),f=t(19102),v=t(78093),m=(t(96560),t(22797)),g=t(28064),j=t(55752),C=t(45302),y=t(77892),b=t(50741),I=t(62278),S=t(76336),P=t(33902),N=t(96294),_=t(23196),R=t(32289),k=["status","tag"],O=function(e){(0,v.Px)();var n=(0,x.UO)().pipelinePath,t=e.repoAddress,s=void 0===t?null:t,O=(0,N.p3)(n),E=O.pipelineName,T=O.snapshotId,w=(0,S.Ux)(s),H=(0,S.E8)(w,E);(0,_.b)(O,H);var Z=(0,C.oD)(k),D=(0,i.Z)(Z,2),Y=D[0],U=D[1],G=h.useMemo((function(){return[H?{token:"job",value:E}:{token:"pipeline",value:E},T?{token:"snapshotId",value:T}:null].filter(Boolean)}),[H,E,T]),V=[].concat((0,r.Z)(Y),(0,r.Z)(G));if(s){var q={token:"tag",value:"".concat(g.H.RepositoryLabelTag,"=").concat((0,P.Wg)(s))};V.push(q)}var F=(0,y.l)({query:A,pageSize:25,variables:{filter:(0,o.Z)((0,o.Z)({},(0,C.VH)(V)),{},{pipelineName:E,snapshotId:T})},nextCursorForResult:function(e){var n;if("Runs"===e.pipelineRunsOrError.__typename)return null===(n=e.pipelineRunsOrError.results[24])||void 0===n?void 0:n.runId},getResultArray:function(e){return e&&"Runs"===e.pipelineRunsOrError.__typename?e.pipelineRunsOrError.results:[]}}),W=F.queryResult,z=F.paginationProps,K=h.useCallback((function(e){var n=(0,a.HY)(e);Y.some((function(e){return(0,a.HY)(e)===n}))||U([].concat((0,r.Z)(Y),[e]))}),[Y,U]),Q=(0,f.C4)(W,f.dT);return(0,R.jsx)(j.Lw.Provider,{value:{refetch:W.refetch},children:(0,R.jsx)(l.T,{children:(0,R.jsx)(b.g,{queryResult:W,allowStaleData:!0,children:function(e){var n=e.pipelineRunsOrError;if("Runs"!==n.__typename)return(0,R.jsx)(p.x,{padding:{vertical:64},children:(0,R.jsx)(d.t,{icon:"error",title:"Query Error",description:n.message})});var t=n.results.slice(0,25),r=z.hasNextCursor,i=z.hasPrevCursor;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(p.x,{flex:{alignItems:"flex-start",justifyContent:"space-between"},padding:{top:8,horizontal:24},children:[(0,R.jsx)(p.x,{flex:{direction:"row",gap:8},children:G.map((function(e){var n=e.token,t=e.value;return(0,R.jsx)(u.V,{children:"".concat(n,":").concat(t)},n)}))}),(0,R.jsx)(f.xi,{refreshState:Q})]}),(0,R.jsx)(I.Y,{$top:0,children:(0,R.jsx)(m.A,{runs:t,onAddTag:K,actionBarComponents:(0,R.jsx)(C.nr,{enabledFilters:k,tokens:Y,onChange:U,loading:W.loading})})}),r||i?(0,R.jsx)("div",{style:{marginTop:"20px"},children:(0,R.jsx)(c.pI,(0,o.Z)({},z))}):null]})}})})})},A=s.Uis},43938:function(e,n,t){t.r(n),t.d(n,{SnapshotRoot:function(){return b},default:function(){return I}});t(325);var o=t(27601),r=t(87535),i=t(96294),s=t(33247),a=t(95764),l=t(43913),p=t(73701),d=t(54268),u=t(31112),c=t(12745),h=t(8546),x=t(31269),f=t(74549),v=(t(96560),t(37286)),m=t(76336),g=t(25582),j=t(32289),C=l.eXI,y=function(e){var n,t=e.activeTab,o=void 0===t?"":t,r=e.explorerPath,s=r.pipelineName,l=r.snapshotId,y=void 0===l?"":l,b=(0,i.gY)((0,a.Z)((0,a.Z)({},r),{},{opNames:[]})),I=(0,m.Nc)(s),S=!(null===I||void 0===I||!I.isJob),P=null===I||void 0===I?void 0:I.pipelineSnapshotId,N=(0,p.a)(C,{variables:{snapshotId:y}}),_=N.data,R=N.loading,k=[{text:"Definition",pathComponent:"",href:"/snapshots/".concat(b)},{text:"Runs",pathComponent:"runs",href:"/snapshots/".concat(b,"runs")}];return(0,j.jsx)(u.m,{title:(0,j.jsx)(c.X6,{style:{fontFamily:h.b.monospace,fontSize:"20px"},children:null===(n=r.snapshotId)||void 0===n?void 0:n.slice(0,8)}),tags:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(d.V,{icon:"schema",children:["Snapshot of"," ",(0,j.jsx)(f.rU,{to:(0,g.r4)(r.pipelineName,S),children:r.pipelineName})]}),function(){var e;return R?(0,j.jsx)(d.V,{intent:"none",minimal:!0,children:"..."}):!P||P!==y&&"PipelineSnapshot"===(null===_||void 0===_?void 0:_.pipelineSnapshotOrError.__typename)&&(null===_||void 0===_||null===(e=_.pipelineSnapshotOrError)||void 0===e?void 0:e.parentSnapshotId)!==P?(0,j.jsx)(d.V,{intent:"warning",minimal:!0,children:"Snapshot"}):(0,j.jsx)(d.V,{intent:"success",minimal:!0,children:"Current"})}()]}),tabs:(0,j.jsx)(x.mQ,{selectedTabId:o,children:k.map((function(e){var n=e.href,t=e.text,o=e.pathComponent;return(0,j.jsx)(v.f,{id:o,title:t,to:n},t)}))})})},b=function(){var e=(0,o.UO)(),n=e.pipelinePath,t=e.tab,a=(0,i.p3)(n);return(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:0,width:"100%",height:"100%"},children:[(0,j.jsx)(y,{activeTab:t,explorerPath:a}),(0,j.jsxs)(o.rs,{children:[(0,j.jsx)(o.AW,{path:"/snapshots/:pipelinePath/runs",children:(0,j.jsx)(s.G,{})}),(0,j.jsx)(o.AW,{path:"/snapshots/(/?.*)",children:(0,j.jsx)(r.CY,{})})]})]})},I=b},62278:function(e,n,t){t.d(n,{Y:function(){return i}});var o=t(922),r=t(7838),i=o.ZP.div.withConfig({displayName:"StickyTableContainer",componentId:"n96aw9-0"})(["thead tr{position:sticky;top:","px;background-color:",";z-index:1;}thead tr th{position:relative;}thead tr th::after{content:'';display:block;height:1px;background-color:",";position:absolute;bottom:-1px;left:0;right:0;}"],(function(e){return e.$top}),r.w.White,r.w.KeylineGray)}}]);
//# sourceMappingURL=610.8aa52b06.chunk.js.map