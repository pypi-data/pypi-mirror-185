"use strict";(self.webpackChunkjupyterlab_apod=self.webpackChunkjupyterlab_apod||[]).push([[568],{568:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var i=a(714),n=a(740),s=a(992);class o extends s.Widget{constructor(){super(),this.addClass("my-apodWidget"),this.img=document.createElement("img"),this.node.appendChild(this.img),this.summary=document.createElement("p"),this.node.appendChild(this.summary)}async updateAPODImage(){const e=await fetch(`https://api.nasa.gov/planetary/apod?api_key=DEMO_KEY&date=${this.randomDate()}`);if(!e.ok){const t=await e.json();return void(t.error?this.summary.innerText=t.error.message:this.summary.innerText=e.statusText)}const t=await e.json();"image"===t.media_type?(this.img.src=t.url,this.img.title=t.title,this.summary.innerText=t.title,t.copyright&&(this.summary.innerText+=` (Copyright ${t.copyright})`)):this.summary.innerText="Random APOD fetched was not an image."}randomDate(){const e=new Date(2010,1,1),t=new Date;return new Date(e.getTime()+Math.random()*(t.getTime()-e.getTime())).toISOString().slice(0,10)}}const r={id:"jupyterlab-apod",autoStart:!0,requires:[n.ICommandPalette],optional:[i.ILayoutRestorer],activate:function(e,t,a){let i;console.log("JupyterLab extension jupyterlab_apod is activated!");const s="apod:open";e.commands.addCommand(s,{label:"Random Astronomy Picture",execute:()=>{if(!i||i.isDisposed){const e=new o;i=new n.MainAreaWidget({content:e}),i.id="apod-jupyterlab",i.title.label="Astronomy Picture",i.title.closable=!0}r.has(i)||r.add(i),i.isAttached||e.shell.add(i,"main"),i.content.updateAPODImage(),e.shell.activateById(i.id)}}),t.addItem({command:s,category:"Tutorial"});let r=new n.WidgetTracker({namespace:"apod"});a&&a.restore(r,{command:s,name:()=>"apod"})}}}}]);